function elementFromString(r){var e=document.createElement("template");return e.innerHTML=r.trim(),e.content.firstElementChild}function encodeHTMLEntities(r){var e=document.createElement("textarea");return e.innerText=r,e.innerHTML}function isValidUTF8(r){var e=new TextDecoder("utf-8",{fatal:!0});try{e.decode(r)}catch(r){if(r instanceof TypeError)return!1;throw r}return!0}function checkCharacterValid(r,e){switch(e){case"utf-8":return!0;case"base64":return~"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);case"hex":return~"0123456789abcdefABCDEF".indexOf(r);case"binary":return"0"===r||"1"===r}}function readFileAsArrayBuffer(t){return new Promise(r=>{const e=new FileReader;e.addEventListener("load",()=>r(e.result)),e.readAsArrayBuffer(t)})}function stringToArrayBuffer(r,e){switch(e){case"utf-8":return(new TextEncoder).encode(r).buffer;case"base64":return base64ToArrayBuffer(r);case"hex":return new Uint8Array((r.match(/.{1,2}/g)||[]).map(r=>parseInt(r,16))).buffer;case"binary":return new Uint8Array((r.match(/.{1,8}/g)||[]).map(r=>parseInt(r,2))).buffer}}function arrayBufferToString(r,e){switch(e){case"utf-8":return(new TextDecoder).decode(r);case"base64":return arrayBufferToBase64(r);case"hex":return arrayBufferToHex(r);case"binary":return arrayBufferToBinary(r)}}function arrayBufferToBinary(r){return new Uint8Array(r).reduce((r,e)=>r+e.toString(2).padStart(8,"0"),"")}function arrayBufferToHex(r){return new Uint8Array(r).reduce((r,e)=>r+e.toString(16).padStart(2,"0"),"")}const[arrayBufferToBase64,base64ToArrayBuffer]=(()=>{const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=new Uint8Array(256);for(let r=0;r<f.length;r++)d[f.charCodeAt(r)]=r;return[r=>{var e=new Uint8Array(r),t=e.length;let n,a="";for(n=0;n<t;n+=3)a=(a=(a=(a+=f[e[n]>>2])+f[(3&e[n])<<4|e[n+1]>>4])+f[(15&e[n+1])<<2|e[n+2]>>6])+f[63&e[n+2]];return t%3==2?a=a.substring(0,a.length-1)+"=":t%3==1&&(a=a.substring(0,a.length-2)+"=="),a},r=>{var e=r.length;let t=.75*r.length,n,a=0,f,u,i,c;"="===r[r.length-1]&&(t--,"="===r[r.length-2]&&t--);var o=new ArrayBuffer(t),s=new Uint8Array(o);for(n=0;n<e;n+=4)f=d[r.charCodeAt(n)],u=d[r.charCodeAt(n+1)],i=d[r.charCodeAt(n+2)],c=d[r.charCodeAt(n+3)],s[a++]=f<<2|u>>4,s[a++]=(15&u)<<4|i>>2,s[a++]=(3&i)<<6|63&c;return o}]})();export{elementFromString,encodeHTMLEntities,isValidUTF8,checkCharacterValid,readFileAsArrayBuffer,stringToArrayBuffer,arrayBufferToString,arrayBufferToBinary,arrayBufferToHex,arrayBufferToBase64};